<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messenger Test</title>
  </head>
  <body>
    <form>
      <label for="name">Name</label>
      <input type="text" id="name" name="name" />
      <label for="email">Email</label>
      <input type="email" id="email" name="email" />
      <button type="submit">Submit</button>
      <div
        class="fb-messenger-checkbox"
        origin="https://www.facebook.com/octiveph"
        page_id="107994064780872"
        messenger_app_id="613243786739870"
        user_ref=""
        allow_login="true"
        size="standard"
        skin="dark"
        center_align="true"
      ></div>
    </form>

    <!-- Your Chat Plugin code -->
    <div
      class="fb-customerchat"
      attribution="setup_tool"
      page_id="107994064780872"
    ></div>
  </body>
  <!-- Load Facebook SDK for JavaScript -->
  <div id="fb-root"></div>
  <script>
    window.fbAsyncInit = function () {
      FB.init({
        xfbml: true,
        version: "v10.0",
      });
    };

    (function (d, s, id) {
      var js,
        fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js";
      fjs.parentNode.insertBefore(js, fjs);
    })(document, "script", "facebook-jssdk");

    FB.Event.subscribe("messenger_checkbox", function (e) {
      console.log("messenger_checkbox event");
      console.log(e);

      if (e.event == "rendered") {
        console.log("Plugin was rendered");
      } else if (e.event == "checkbox") {
        var checkboxState = e.state;
        console.log("Checkbox state: " + checkboxState);
      } else if (e.event == "not_you") {
        console.log("User clicked 'not you'");
      } else if (e.event == "hidden") {
        console.log("Plugin was hidden");
      }
    });
  </script>
</html>
